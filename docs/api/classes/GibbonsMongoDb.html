<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>GibbonsMongoDb | @icazemier/gibbons-mongodb</title><meta name="description" content="Documentation for @icazemier/gibbons-mongodb"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">@icazemier/gibbons-mongodb</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">GibbonsMongoDb</a></li></ul><h1>Class GibbonsMongoDb</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Main class which does all the &quot;heavy&quot; lifting against MongoDB for managing
users, groups, and permissions with bitwise efficiency using Gibbons.</p>
<p>All multi-step operations are wrapped in MongoDB transactions
for atomicity and consistency.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-complete-workflow">Example: Complete workflow<a href="#example-complete-workflow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-6">import</span><span class="hl-1"> { </span><span class="hl-7">GibbonsMongoDb</span><span class="hl-1">, </span><span class="hl-7">ConfigLoader</span><span class="hl-1"> } </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@icazemier/gibbons-mongodb&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">// Load config and initialize</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">config</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">ConfigLoader</span><span class="hl-1">.</span><span class="hl-0">load</span><span class="hl-1">();</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">gibbonsDb</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">GibbonsMongoDb</span><span class="hl-1">(</span><span class="hl-2">&#39;mongodb://localhost:27017&#39;</span><span class="hl-1">, </span><span class="hl-7">config</span><span class="hl-1">);</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">initialize</span><span class="hl-1">();</span><br/><br/><span class="hl-9">// Allocate permissions</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">editPerm</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">allocatePermission</span><span class="hl-1">({ </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;posts.edit&#39;</span><span class="hl-1"> });</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">deletePerm</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">allocatePermission</span><span class="hl-1">({ </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;posts.delete&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-9">// Allocate groups and assign permissions</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">adminGroup</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">allocateGroup</span><span class="hl-1">({ </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Admins&#39;</span><span class="hl-1"> });</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">subscribePermissionsToGroups</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-7">adminGroup</span><span class="hl-1">.</span><span class="hl-7">gibbonGroupPosition</span><span class="hl-1">],</span><br/><span class="hl-1">  [</span><span class="hl-7">editPerm</span><span class="hl-1">.</span><span class="hl-7">gibbonPermissionPosition</span><span class="hl-1">, </span><span class="hl-7">deletePerm</span><span class="hl-1">.</span><span class="hl-7">gibbonPermissionPosition</span><span class="hl-1">]</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-9">// Create user and assign to group</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">createUser</span><span class="hl-1">({ </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;John&#39;</span><span class="hl-1">, </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;john@example.com&#39;</span><span class="hl-1"> });</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">subscribeUsersToGroups</span><span class="hl-1">(</span><br/><span class="hl-1">  { </span><span class="hl-7">_id:</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">_id</span><span class="hl-1"> },</span><br/><span class="hl-1">  [</span><span class="hl-7">adminGroup</span><span class="hl-1">.</span><span class="hl-7">gibbonGroupPosition</span><span class="hl-1">]</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-9">// Validate permissions</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">hasEdit</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">validateUserPermissionsForAnyPermissions</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">permissionsGibbon</span><span class="hl-1">,</span><br/><span class="hl-1">  [</span><span class="hl-7">editPerm</span><span class="hl-1">.</span><span class="hl-7">gibbonPermissionPosition</span><span class="hl-1">]</span><br/><span class="hl-1">);</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;User can edit:&#39;</span><span class="hl-1">, </span><span class="hl-7">hasEdit</span><span class="hl-1">); </span><span class="hl-9">// true</span>
</code><button type="button">Copy</button></pre>

</div></div></section><section class="tsd-panel"><h4>Implements</h4><ul class="tsd-hierarchy"><li><a href="../interfaces/IPermissionsResource.html" class="tsd-signature-type tsd-kind-interface">IPermissionsResource</a></li></ul></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L62">src/gibbons-mongo-db.ts:62</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#config" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>config</span></a>
<a href="#gibbongroup" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>gibbon<wbr/>Group</span></a>
<a href="#gibbonpermission" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>gibbon<wbr/>Permission</span></a>
<a href="#gibbonuser" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>gibbon<wbr/>User</span></a>
<a href="#mongoclient" class="tsd-index-link tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>mongo<wbr/>Client</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#allocategroup" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>allocate<wbr/>Group</span></a>
<a href="#allocatepermission" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>allocate<wbr/>Permission</span></a>
<a href="#createuser" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>User</span></a>
<a href="#deallocategroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>deallocate<wbr/>Groups</span></a>
<a href="#deallocatepermissions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>deallocate<wbr/>Permissions</span></a>
<a href="#expandgroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>expand<wbr/>Groups</span></a>
<a href="#expandpermissions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>expand<wbr/>Permissions</span></a>
<a href="#findallallocatedgroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>All<wbr/>Allocated<wbr/>Groups</span></a>
<a href="#findallallocatedpermissions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>All<wbr/>Allocated<wbr/>Permissions</span></a>
<a href="#findgroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Groups</span></a>
<a href="#findgroupsbypermissions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Groups<wbr/>By<wbr/>Permissions</span></a>
<a href="#findpermissions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Permissions</span></a>
<a href="#findusers" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Users</span></a>
<a href="#findusersbygroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Users<wbr/>By<wbr/>Groups</span></a>
<a href="#findusersbypermissions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Users<wbr/>By<wbr/>Permissions</span></a>
<a href="#getmongoclient" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Mongo<wbr/>Client</span></a>
<a href="#getpermissionsgibbonforgroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Permissions<wbr/>Gibbon<wbr/>For<wbr/>Groups</span></a>
<a href="#initialize" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>initialize</span></a>
<a href="#removeuser" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove<wbr/>User</span></a>
<a href="#shrinkgroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>shrink<wbr/>Groups</span></a>
<a href="#shrinkpermissions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>shrink<wbr/>Permissions</span></a>
<a href="#subscribepermissionstogroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>subscribe<wbr/>Permissions<wbr/>To<wbr/>Groups</span></a>
<a href="#subscribeuserstogroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>subscribe<wbr/>Users<wbr/>To<wbr/>Groups</span></a>
<a href="#unsubscribepermissionsfromgroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>unsubscribe<wbr/>Permissions<wbr/>From<wbr/>Groups</span></a>
<a href="#unsubscribeusersfromgroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>unsubscribe<wbr/>Users<wbr/>From<wbr/>Groups</span></a>
<a href="#updategroupmetadata" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Group<wbr/>Metadata</span></a>
<a href="#updatepermissionmetadata" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Permission<wbr/>Metadata</span></a>
<a href="#updateusermetadata" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>User<wbr/>Metadata</span></a>
<a href="#validateallocatedgroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>Allocated<wbr/>Groups</span></a>
<a href="#validateallocatedpermissions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>Allocated<wbr/>Permissions</span></a>
<a href="#validateusergroupsforallgroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>User<wbr/>Groups<wbr/>For<wbr/>All<wbr/>Groups</span></a>
<a href="#validateusergroupsforanygroups" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>User<wbr/>Groups<wbr/>For<wbr/>Any<wbr/>Groups</span></a>
<a href="#validateuserpermissionsforallpermissions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>User<wbr/>Permissions<wbr/>For<wbr/>All<wbr/>Permissions</span></a>
<a href="#validateuserpermissionsforanypermissions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>User<wbr/>Permissions<wbr/>For<wbr/>Any<wbr/>Permissions</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Constructors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="constructor"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="constructorgibbonsmongodb"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">GibbonsMongoDb</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">mongoClientOrUri</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">MongoClient</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/Config.html" class="tsd-signature-type tsd-kind-interface">Config</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">GibbonsMongoDb</a><a href="#constructorgibbonsmongodb" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Creates a new GibbonsMongoDb instance.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">mongoClientOrUri</span>: <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">MongoClient</span></span><div class="tsd-comment tsd-typography"><p>A MongoDB connection URI <strong>or</strong> an existing connected <code>MongoClient</code>.
When a <code>MongoClient</code> is provided the adapter re-uses it (no extra connection is created),
so sessions started from that client work with all facade methods.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">config</span>: <a href="../interfaces/Config.html" class="tsd-signature-type tsd-kind-interface">Config</a></span><div class="tsd-comment tsd-typography"><p>Configuration containing database structure and byte lengths</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">GibbonsMongoDb</a></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-using-a-uri-adapter-creates-its-own-client">Example: Using a URI (adapter creates its own client)<a href="#example-using-a-uri-adapter-creates-its-own-client" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">gibbonsDb</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">GibbonsMongoDb</span><span class="hl-1">(</span><span class="hl-2">&#39;mongodb://localhost:27017&#39;</span><span class="hl-1">, </span><span class="hl-7">config</span><span class="hl-1">);</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">initialize</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-using-an-existing-mongoclient-shared-connection">Example: Using an existing MongoClient (shared connection)<a href="#example-using-an-existing-mongoclient-shared-connection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">client</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">MongoClient</span><span class="hl-1">.</span><span class="hl-0">connect</span><span class="hl-1">(</span><span class="hl-2">&#39;mongodb://localhost:27017&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">gibbonsDb</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">GibbonsMongoDb</span><span class="hl-1">(</span><span class="hl-7">client</span><span class="hl-1">, </span><span class="hl-7">config</span><span class="hl-1">);</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">initialize</span><span class="hl-1">();</span><br/><br/><span class="hl-9">// Sessions from `client` work directly</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-0">withTransaction</span><span class="hl-1">(</span><span class="hl-7">client</span><span class="hl-1">, </span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-7">session</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">allocatePermission</span><span class="hl-1">({ </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;edit&#39;</span><span class="hl-1"> }, </span><span class="hl-7">session</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">allocateGroup</span><span class="hl-1">({ </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;admins&#39;</span><span class="hl-1"> }, </span><span class="hl-7">session</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L96">src/gibbons-mongo-db.ts:96</a></li></ul></aside></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member tsd-is-protected"><h3 class="tsd-anchor-link" id="config"><code class="tsd-tag">Protected</code><span>config</span><a href="#config" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">config</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/Config.html" class="tsd-signature-type tsd-kind-interface">Config</a></div><div class="tsd-comment tsd-typography"><p>Configuration containing database structure and byte lengths</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L98">src/gibbons-mongo-db.ts:98</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected"><h3 class="tsd-anchor-link" id="gibbongroup"><code class="tsd-tag">Protected</code><span>gibbon<wbr/>Group</span><a href="#gibbongroup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">gibbonGroup</span><span class="tsd-signature-symbol">:</span> <a href="GibbonGroup.html" class="tsd-signature-type tsd-kind-class">GibbonGroup</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L63">src/gibbons-mongo-db.ts:63</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected"><h3 class="tsd-anchor-link" id="gibbonpermission"><code class="tsd-tag">Protected</code><span>gibbon<wbr/>Permission</span><a href="#gibbonpermission" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">gibbonPermission</span><span class="tsd-signature-symbol">:</span> <a href="GibbonPermission.html" class="tsd-signature-type tsd-kind-class">GibbonPermission</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L64">src/gibbons-mongo-db.ts:64</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected"><h3 class="tsd-anchor-link" id="gibbonuser"><code class="tsd-tag">Protected</code><span>gibbon<wbr/>User</span><a href="#gibbonuser" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">gibbonUser</span><span class="tsd-signature-symbol">:</span> <a href="GibbonUser.html" class="tsd-signature-type tsd-kind-class">GibbonUser</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L65">src/gibbons-mongo-db.ts:65</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected"><h3 class="tsd-anchor-link" id="mongoclient"><code class="tsd-tag">Protected</code><span>mongo<wbr/>Client</span><a href="#mongoclient" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">mongoClient</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">MongoClient</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L66">src/gibbons-mongo-db.ts:66</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="allocategroup"><span>allocate<wbr/>Group</span><a href="#allocategroup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="allocategroup-1"><span class="tsd-kind-call-signature">allocateGroup</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#allocategroupomitgibbongroupposition">OmitGibbonGroupPosition</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#allocategroupomitgibbongroupposition">OmitGibbonGroupPosition</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonGroup.html" class="tsd-signature-type tsd-kind-interface">IGibbonGroup</a><span class="tsd-signature-symbol">&gt;</span><a href="#allocategroup-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Search for the first available non-allocated group, then allocates it,
and stores the given additional/desirable data</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="allocategroupomitgibbongroupposition"><span class="tsd-kind-type-parameter">OmitGibbonGroupPosition</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="#allocategroupomitgibbongroupposition">OmitGibbonGroupPosition</a></span><div class="tsd-comment tsd-typography"><p>Anything really, at least MongoDB compatible</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonGroup.html" class="tsd-signature-type tsd-kind-interface">IGibbonGroup</a><span class="tsd-signature-symbol">&gt;</span></h4><p>Created group</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Let's assume, position 1 and 2 aren't allocated, but 3 is. We should expect the 3rd time, to allocate position 4</p>
<pre><code><br/><span class="hl-9">// First time (no allocations made before)</span><br/><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-7">gibbonGroupPosition</span><span class="hl-1">: </span><span class="hl-8">firstPosition</span><span class="hl-1"> } = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsMongoDb</span><span class="hl-1">.</span><span class="hl-0">allocateGroup</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;My allocated test group 1 (should be position 1)&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">firstPosition</span><span class="hl-1">; </span><span class="hl-9">// Should be the value 1</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-7">gibbonGroupPosition</span><span class="hl-1">: </span><span class="hl-8">secondPosition</span><span class="hl-1"> } = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsMongoDb</span><span class="hl-1">.</span><span class="hl-0">allocateGroup</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;My allocated test group 1 (should be position 2)&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">secondPosition</span><span class="hl-1">; </span><span class="hl-9">//Should be the value 2</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-7">gibbonGroupPosition</span><span class="hl-1">: </span><span class="hl-8">thirdPosition</span><span class="hl-1"> } = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsMongoDb</span><span class="hl-1">.</span><span class="hl-0">allocateGroup</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;My allocated test group 1 (should be position 4 since 3 was already taken)&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">thirdPosition</span><span class="hl-1">; </span><span class="hl-9">//Should be the value 4</span>
</code><button>Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L410">src/gibbons-mongo-db.ts:410</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="allocatepermission"><span>allocate<wbr/>Permission</span><a href="#allocatepermission" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="allocatepermission-1"><span class="tsd-kind-call-signature">allocatePermission</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#allocatepermissiont">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#allocatepermissiont">T</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonPermission.html" class="tsd-signature-type tsd-kind-interface">IGibbonPermission</a><span class="tsd-signature-symbol">&gt;</span><a href="#allocatepermission-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Allocates a new permission with any desirable document structure
It searches for the first available non-allocated permission and allocates it,
and stores additional given data</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="allocatepermissiont"><span class="tsd-kind-type-parameter">T</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="#allocatepermissiont">T</a></span><div class="tsd-comment tsd-typography"><p>Anything really, at least MongoDB compatible</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonPermission.html" class="tsd-signature-type tsd-kind-interface">IGibbonPermission</a><span class="tsd-signature-symbol">&gt;</span></h4><p>Created permission</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">permission</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">allocatePermission</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;edit_posts&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Allows editing blog posts&#39;</span><br/><span class="hl-1">});</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">permission</span><span class="hl-1">.</span><span class="hl-7">gibbonPermissionPosition</span><span class="hl-1">); </span><span class="hl-9">// e.g., 1</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">permission</span><span class="hl-1">.</span><span class="hl-7">gibbonIsAllocated</span><span class="hl-1">); </span><span class="hl-9">// true</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L340">src/gibbons-mongo-db.ts:340</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="createuser"><span>create<wbr/>User</span><a href="#createuser" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="createuser-1"><span class="tsd-kind-call-signature">createUser</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#createusert">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#createusert">T</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span><a href="#createuser-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create a new user with initial empty gibbons
Additional custom data can be passed (e.g. name, email)</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="createusert"><span class="tsd-kind-type-parameter">T</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">data</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="#createusert">T</a></span><div class="tsd-comment tsd-typography"><p>User data to store (e.g., name, email, username)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The created user document with empty group and permission gibbons</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">createUser</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;John Doe&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;john@example.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">username:</span><span class="hl-1"> </span><span class="hl-2">&#39;johndoe&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">_id</span><span class="hl-1">); </span><span class="hl-9">// MongoDB ObjectId</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">groupsGibbon</span><span class="hl-1">); </span><span class="hl-9">// Empty Gibbon (no groups yet)</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">permissionsGibbon</span><span class="hl-1">); </span><span class="hl-9">// Empty Gibbon (no permissions yet)</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L726">src/gibbons-mongo-db.ts:726</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="deallocategroups"><span>deallocate<wbr/>Groups</span><a href="#deallocategroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="deallocategroups-1"><span class="tsd-kind-call-signature">deallocateGroups</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">groups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#deallocategroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Resets default values to each given group, then
it removes membership from each user for these groups</p>
<p>Runs inside a transaction for atomicity.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">groups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Group positions collection</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-3">Example<a href="#example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Deallocate single group</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">deallocateGroups</span><span class="hl-1">([</span><span class="hl-4">3</span><span class="hl-1">]);</span><br/><br/><span class="hl-9">// Deallocate multiple groups</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">deallocateGroups</span><span class="hl-1">([</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-4">4</span><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L434">src/gibbons-mongo-db.ts:434</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="deallocatepermissions"><span>deallocate<wbr/>Permissions</span><a href="#deallocatepermissions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="deallocatepermissions-1"><span class="tsd-kind-call-signature">deallocatePermissions</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">permissions</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#deallocatepermissions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Deallocates permission(s)</p>
<ul>
<li>Deallocates permission and sets them to default values</li>
<li>Removes related permissions from groups and users</li>
</ul>
<p>Runs inside a transaction for atomicity.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">permissions</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Permission position collection</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-4">Example<a href="#example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Deallocate single permission</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">deallocatePermissions</span><span class="hl-1">([</span><span class="hl-4">5</span><span class="hl-1">]);</span><br/><br/><span class="hl-9">// Deallocate multiple permissions</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">deallocatePermissions</span><span class="hl-1">([</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-4">3</span><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L366">src/gibbons-mongo-db.ts:366</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="expandgroups"><span>expand<wbr/>Groups</span><a href="#expandgroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="expandgroups-1"><span class="tsd-kind-call-signature">expandGroups</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">newByteLength</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#expandgroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Expands the group byte length, seeding new group slots and
resizing all Binary <code>groupsGibbon</code> fields in users.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">newByteLength</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Must be greater than the current <code>groupByteLength</code></p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span><div class="tsd-comment tsd-typography"><p>Optional external session (caller owns the transaction)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-5">Example<a href="#example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">expandGroups</span><span class="hl-1">(</span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-7">groupByteLength</span><span class="hl-1"> * </span><span class="hl-4">2</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L1035">src/gibbons-mongo-db.ts:1035</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="expandpermissions"><span>expand<wbr/>Permissions</span><a href="#expandpermissions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="expandpermissions-1"><span class="tsd-kind-call-signature">expandPermissions</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">newByteLength</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#expandpermissions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Expands the permission byte length, seeding new permission slots and
resizing all Binary <code>permissionsGibbon</code> fields in groups and users.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">newByteLength</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Must be greater than the current <code>permissionByteLength</code></p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span><div class="tsd-comment tsd-typography"><p>Optional external session (caller owns the transaction)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-6">Example<a href="#example-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Double the permission capacity</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">expandPermissions</span><span class="hl-1">(</span><span class="hl-7">config</span><span class="hl-1">.</span><span class="hl-7">permissionByteLength</span><span class="hl-1"> * </span><span class="hl-4">2</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L990">src/gibbons-mongo-db.ts:990</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="findallallocatedgroups"><span>find<wbr/>All<wbr/>Allocated<wbr/>Groups</span><a href="#findallallocatedgroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="findallallocatedgroups-1"><span class="tsd-kind-call-signature">findAllAllocatedGroups</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">FindCursor</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonGroup.html" class="tsd-signature-type tsd-kind-interface">IGibbonGroup</a><span class="tsd-signature-symbol">&gt;</span><a href="#findallallocatedgroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>List all allocated groups</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">FindCursor</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonGroup.html" class="tsd-signature-type tsd-kind-interface">IGibbonGroup</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A MongoDB FindCursor of all allocated group documents</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-7">Example<a href="#example-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cursor</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">findAllAllocatedGroups</span><span class="hl-1">();</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">groups</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">cursor</span><span class="hl-1">.</span><span class="hl-0">toArray</span><span class="hl-1">();</span><br/><span class="hl-7">groups</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-7">group</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-5">${</span><span class="hl-7">group</span><span class="hl-10">.</span><span class="hl-7">name</span><span class="hl-5">}</span><span class="hl-2"> (position: </span><span class="hl-5">${</span><span class="hl-7">group</span><span class="hl-10">.</span><span class="hl-7">gibbonGroupPosition</span><span class="hl-5">}</span><span class="hl-2">)`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L797">src/gibbons-mongo-db.ts:797</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="findallallocatedpermissions"><span>find<wbr/>All<wbr/>Allocated<wbr/>Permissions</span><a href="#findallallocatedpermissions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="findallallocatedpermissions-1"><span class="tsd-kind-call-signature">findAllAllocatedPermissions</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">FindCursor</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonPermission.html" class="tsd-signature-type tsd-kind-interface">IGibbonPermission</a><span class="tsd-signature-symbol">&gt;</span><a href="#findallallocatedpermissions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>List all allocated permissions</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">FindCursor</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonPermission.html" class="tsd-signature-type tsd-kind-interface">IGibbonPermission</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A MongoDB FindCursor of all allocated permission documents</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-8">Example<a href="#example-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cursor</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">findAllAllocatedPermissions</span><span class="hl-1">();</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">permissions</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">cursor</span><span class="hl-1">.</span><span class="hl-0">toArray</span><span class="hl-1">();</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Total allocated: </span><span class="hl-5">${</span><span class="hl-7">permissions</span><span class="hl-10">.</span><span class="hl-7">length</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L813">src/gibbons-mongo-db.ts:813</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="findgroups"><span>find<wbr/>Groups</span><a href="#findgroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="findgroups-1"><span class="tsd-kind-call-signature">findGroups</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">groups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">FindCursor</span><a href="#findgroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Convenience function to retrieve group documents by positions</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">groups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Contains group positions to query for</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">FindCursor</span></h4><p>A MongoDB FindCursor</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-9">Example<a href="#example-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cursor</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">findGroups</span><span class="hl-1">([</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-4">3</span><span class="hl-1">]);</span><br/><span class="hl-6">for</span><span class="hl-1"> </span><span class="hl-6">await</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">group</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-7">cursor</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">group</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">, </span><span class="hl-7">group</span><span class="hl-1">.</span><span class="hl-7">permissionsGibbon</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L239">src/gibbons-mongo-db.ts:239</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="findgroupsbypermissions"><span>find<wbr/>Groups<wbr/>By<wbr/>Permissions</span><a href="#findgroupsbypermissions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="findgroupsbypermissions-1"><span class="tsd-kind-call-signature">findGroupsByPermissions</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">permissions</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">allocated</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">FindCursor</span><a href="#findgroupsbypermissions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Find allocated groups where permissions are subscribed</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">permissions</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Permissions to query for</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">allocated</span>: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = true</span></span><div class="tsd-comment tsd-typography"><p>Match for allocated (default) or non-allocated</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">FindCursor</span></h4><p>groups Cursor</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-10">Example<a href="#example-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Find all groups that have edit or delete permissions</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cursor</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">findGroupsByPermissions</span><span class="hl-1">([</span><span class="hl-4">5</span><span class="hl-1">, </span><span class="hl-4">6</span><span class="hl-1">]);</span><br/><span class="hl-6">for</span><span class="hl-1"> </span><span class="hl-6">await</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">group</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-7">cursor</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Group </span><span class="hl-5">${</span><span class="hl-7">group</span><span class="hl-10">.</span><span class="hl-7">name</span><span class="hl-5">}</span><span class="hl-2"> has edit/delete permissions`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L279">src/gibbons-mongo-db.ts:279</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="findpermissions"><span>find<wbr/>Permissions</span><a href="#findpermissions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="findpermissions-1"><span class="tsd-kind-call-signature">findPermissions</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">permissions</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">FindCursor</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonPermission.html" class="tsd-signature-type tsd-kind-interface">IGibbonPermission</a><span class="tsd-signature-symbol">&gt;</span><a href="#findpermissions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Convenience function to retrieve permission documents by positions</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">permissions</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Contains permission positions to query for</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">FindCursor</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonPermission.html" class="tsd-signature-type tsd-kind-interface">IGibbonPermission</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A MongoDB FindCursor</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-11">Example<a href="#example-11" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cursor</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">findPermissions</span><span class="hl-1">([</span><span class="hl-4">5</span><span class="hl-1">, </span><span class="hl-4">6</span><span class="hl-1">, </span><span class="hl-4">7</span><span class="hl-1">]);</span><br/><span class="hl-6">for</span><span class="hl-1"> </span><span class="hl-6">await</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">perm</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-7">cursor</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">perm</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">, </span><span class="hl-7">perm</span><span class="hl-1">.</span><span class="hl-7">gibbonPermissionPosition</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L257">src/gibbons-mongo-db.ts:257</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="findusers"><span>find<wbr/>Users</span><a href="#findusers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="findusers-1"><span class="tsd-kind-call-signature">findUsers</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">filter</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Filter</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">FindCursor</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span><a href="#findusers-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Find users by arbitrary MongoDB filter</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">filter</span>: <span class="tsd-signature-type">Filter</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>MongoDB filter query</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">FindCursor</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A MongoDB FindCursor for iteration</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-12">Example<a href="#example-12" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Find users by email</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cursor</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">findUsers</span><span class="hl-1">({ </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;user@example.com&#39;</span><span class="hl-1"> });</span><br/><span class="hl-6">for</span><span class="hl-1"> </span><span class="hl-6">await</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-7">cursor</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">user</span><span class="hl-1">.</span><span class="hl-7">name</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-9">// Find users created after a date</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">recentUsers</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">findUsers</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-7">createdAt:</span><span class="hl-1"> { </span><span class="hl-7">$gte:</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&#39;2024-01-01&#39;</span><span class="hl-1">) }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L779">src/gibbons-mongo-db.ts:779</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="findusersbygroups"><span>find<wbr/>Users<wbr/>By<wbr/>Groups</span><a href="#findusersbygroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="findusersbygroups-1"><span class="tsd-kind-call-signature">findUsersByGroups</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">groups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">FindCursor</span><a href="#findusersbygroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Find users where groups are subscribed</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">groups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Groups to query for</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">FindCursor</span></h4><p>users Cursor</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-13">Example<a href="#example-13" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Find all users in admin or moderator groups</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cursor</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">findUsersByGroups</span><span class="hl-1">([</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-4">2</span><span class="hl-1">]);</span><br/><span class="hl-6">for</span><span class="hl-1"> </span><span class="hl-6">await</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-7">cursor</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-5">${</span><span class="hl-7">user</span><span class="hl-10">.</span><span class="hl-7">name</span><span class="hl-5">}</span><span class="hl-2"> is admin or moderator`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L318">src/gibbons-mongo-db.ts:318</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="findusersbypermissions"><span>find<wbr/>Users<wbr/>By<wbr/>Permissions</span><a href="#findusersbypermissions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="findusersbypermissions-1"><span class="tsd-kind-call-signature">findUsersByPermissions</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">permissions</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">FindCursor</span><a href="#findusersbypermissions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Find users where permissions are subscribed</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">permissions</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Permissions to query for</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">FindCursor</span></h4><p>users Cursor</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-14">Example<a href="#example-14" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Find all users with delete permission</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">cursor</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">findUsersByPermissions</span><span class="hl-1">([</span><span class="hl-4">6</span><span class="hl-1">]);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">usersWithDelete</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">cursor</span><span class="hl-1">.</span><span class="hl-0">toArray</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L299">src/gibbons-mongo-db.ts:299</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getmongoclient"><span>get<wbr/>Mongo<wbr/>Client</span><a href="#getmongoclient" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getmongoclient-1"><span class="tsd-kind-call-signature">getMongoClient</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">MongoClient</span><a href="#getmongoclient-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the underlying MongoClient used by this instance.
When a <code>MongoClient</code> was injected via the constructor this returns the same instance,
so sessions created from it work seamlessly with all facade methods.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">MongoClient</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws">Throws<a href="#throws" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if called before <a href="#initialize" class="tsd-kind-method">initialize</a></p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-15">Example<a href="#example-15" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">client</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">getMongoClient</span><span class="hl-1">();</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">session</span><span class="hl-1"> = </span><span class="hl-7">client</span><span class="hl-1">.</span><span class="hl-0">startSession</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L131">src/gibbons-mongo-db.ts:131</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getpermissionsgibbonforgroups"><span>get<wbr/>Permissions<wbr/>Gibbon<wbr/>For<wbr/>Groups</span><a href="#getpermissionsgibbonforgroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getpermissionsgibbonforgroups-1"><span class="tsd-kind-call-signature">getPermissionsGibbonForGroups</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">groups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Gibbon</span><span class="tsd-signature-symbol">&gt;</span><a href="#getpermissionsgibbonforgroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Fetches aggregated permissions from groups
(Useful to store at the user itself for fast access)</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">groups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Group positions or Gibbon representing groups</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Gibbon</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A Gibbon with all permissions merged from the specified groups</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-16">Example<a href="#example-16" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Get all permissions from admin and editor groups</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">permissionsGibbon</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">getPermissionsGibbonForGroups</span><span class="hl-1">([</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-4">2</span><span class="hl-1">]);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">permissionPositions</span><span class="hl-1"> = </span><span class="hl-7">permissionsGibbon</span><span class="hl-1">.</span><span class="hl-0">getPositionsArray</span><span class="hl-1">();</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">permissionPositions</span><span class="hl-1">); </span><span class="hl-9">// e.g., [1, 2, 5, 6, 10]</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><p>Implementation of <a href="../interfaces/IPermissionsResource.html">IPermissionsResource</a>.<a href="../interfaces/IPermissionsResource.html#getpermissionsgibbonforgroups">getPermissionsGibbonForGroups</a></p><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L219">src/gibbons-mongo-db.ts:219</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="initialize"><span>initialize</span><a href="#initialize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="initialize-1"><span class="tsd-kind-call-signature">initialize</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#initialize-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Initialize the GibbonsMongoDb instance by setting up
the collections for users, groups, and permissions.</p>
<p>When constructed with a URI a new <code>MongoClient</code> connection is created.
When constructed with an existing <code>MongoClient</code> the connection is re-used.</p>
<p>Must be called before using any other methods.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L150">src/gibbons-mongo-db.ts:150</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="removeuser"><span>remove<wbr/>User</span><a href="#removeuser" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="removeuser-1"><span class="tsd-kind-call-signature">removeUser</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">filter</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Filter</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><a href="#removeuser-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Remove user(s) matching the given filter</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">filter</span>: <span class="tsd-signature-type">Filter</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>MongoDB filter to select users to remove</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Number of removed users</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-17">Example<a href="#example-17" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Remove users by email</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">count</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">removeUser</span><span class="hl-1">({ </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;user@example.com&#39;</span><span class="hl-1"> });</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Removed </span><span class="hl-5">${</span><span class="hl-7">count</span><span class="hl-5">}</span><span class="hl-2"> user(s)`</span><span class="hl-1">);</span><br/><br/><span class="hl-9">// Remove multiple users by IDs</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">removeUser</span><span class="hl-1">({ </span><span class="hl-7">_id:</span><span class="hl-1"> { </span><span class="hl-7">$in:</span><span class="hl-1"> [</span><span class="hl-7">id1</span><span class="hl-1">, </span><span class="hl-7">id2</span><span class="hl-1">, </span><span class="hl-7">id3</span><span class="hl-1">] } });</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L752">src/gibbons-mongo-db.ts:752</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="shrinkgroups"><span>shrink<wbr/>Groups</span><a href="#shrinkgroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="shrinkgroups-1"><span class="tsd-kind-call-signature">shrinkGroups</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">newByteLength</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#shrinkgroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Shrinks the group byte length, removing trailing group slots
and truncating all Binary <code>groupsGibbon</code> fields in users.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">newByteLength</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Must be less than the current <code>groupByteLength</code></p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span><div class="tsd-comment tsd-typography"><p>Optional external session (caller owns the transaction)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-1">Throws<a href="#throws-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if allocated groups exist beyond the new boundary</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-18">Example<a href="#example-18" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">shrinkGroups</span><span class="hl-1">(</span><span class="hl-4">64</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L1136">src/gibbons-mongo-db.ts:1136</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="shrinkpermissions"><span>shrink<wbr/>Permissions</span><a href="#shrinkpermissions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="shrinkpermissions-1"><span class="tsd-kind-call-signature">shrinkPermissions</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">newByteLength</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#shrinkpermissions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Shrinks the permission byte length, removing trailing permission slots
and truncating all Binary <code>permissionsGibbon</code> fields in groups and users.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">newByteLength</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Must be less than the current <code>permissionByteLength</code></p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span><div class="tsd-comment tsd-typography"><p>Optional external session (caller owns the transaction)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-2">Throws<a href="#throws-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error if allocated permissions exist beyond the new boundary</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-19">Example<a href="#example-19" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">shrinkPermissions</span><span class="hl-1">(</span><span class="hl-4">64</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L1074">src/gibbons-mongo-db.ts:1074</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="subscribepermissionstogroups"><span>subscribe<wbr/>Permissions<wbr/>To<wbr/>Groups</span><a href="#subscribepermissionstogroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="subscribepermissionstogroups-1"><span class="tsd-kind-call-signature">subscribePermissionsToGroups</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">groups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">permissions</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#subscribepermissionstogroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Subscribe (set) permissions to given groups
Users subscribed to these groups need to be updated with these additional permissions</p>
<p>Runs inside a transaction for atomicity.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">groups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Group positions to add permissions to</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">permissions</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Permission positions to subscribe</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws-3">Throws<a href="#throws-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Error when given groups or permissions are not allocated</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-20">Example<a href="#example-20" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Add edit and delete permissions to admin group</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">subscribePermissionsToGroups</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-4">1</span><span class="hl-1">], </span><span class="hl-9">// Admin group</span><br/><span class="hl-1">  [</span><span class="hl-4">5</span><span class="hl-1">, </span><span class="hl-4">6</span><span class="hl-1">] </span><span class="hl-9">// Edit and delete permissions</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-9">// All users in admin group will automatically receive these permissions</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L664">src/gibbons-mongo-db.ts:664</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="subscribeuserstogroups"><span>subscribe<wbr/>Users<wbr/>To<wbr/>Groups</span><a href="#subscribeuserstogroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="subscribeuserstogroups-1"><span class="tsd-kind-call-signature">subscribeUsersToGroups</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">filter</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Filter</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">groups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#subscribeuserstogroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Retrieve users and their current group membership, patch given groups and update their aggregated permissions</p>
<p>Runs inside a transaction for atomicity.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">filter</span>: <span class="tsd-signature-type">Filter</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>MongoDB filter to select users</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">groups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Group positions to subscribe users to</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-21">Example<a href="#example-21" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Subscribe all users with specific email to admin group</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">subscribeUsersToGroups</span><span class="hl-1">(</span><br/><span class="hl-1">  { </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;admin@example.com&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  [</span><span class="hl-4">1</span><span class="hl-1">] </span><span class="hl-9">// Admin group at position 1</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-9">// Subscribe multiple users by ID to multiple groups</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">subscribeUsersToGroups</span><span class="hl-1">(</span><br/><span class="hl-1">  { </span><span class="hl-7">_id:</span><span class="hl-1"> { </span><span class="hl-7">$in:</span><span class="hl-1"> [</span><span class="hl-7">userId1</span><span class="hl-1">, </span><span class="hl-7">userId2</span><span class="hl-1">] } },</span><br/><span class="hl-1">  [</span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-4">3</span><span class="hl-1">, </span><span class="hl-4">4</span><span class="hl-1">] </span><span class="hl-9">// Editor, Moderator, Viewer groups</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L615">src/gibbons-mongo-db.ts:615</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="unsubscribepermissionsfromgroups"><span>unsubscribe<wbr/>Permissions<wbr/>From<wbr/>Groups</span><a href="#unsubscribepermissionsfromgroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="unsubscribepermissionsfromgroups-1"><span class="tsd-kind-call-signature">unsubscribePermissionsFromGroups</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">groups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">permissions</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#unsubscribepermissionsfromgroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Remove specific permissions from specific groups
Recalculates permissions for all users in affected groups</p>
<p>Runs inside a transaction for atomicity.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">groups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Group positions to modify</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">permissions</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Permission positions to remove from groups</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-22">Example<a href="#example-22" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Remove delete permission from editor group</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">unsubscribePermissionsFromGroups</span><span class="hl-1">(</span><br/><span class="hl-1">  [</span><span class="hl-4">2</span><span class="hl-1">], </span><span class="hl-9">// Editor group</span><br/><span class="hl-1">  [</span><span class="hl-4">6</span><span class="hl-1">]  </span><span class="hl-9">// Delete permission</span><br/><span class="hl-1">);</span><br/><span class="hl-9">// All users in editor group lose delete permission</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L950">src/gibbons-mongo-db.ts:950</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="unsubscribeusersfromgroups"><span>unsubscribe<wbr/>Users<wbr/>From<wbr/>Groups</span><a href="#unsubscribeusersfromgroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="unsubscribeusersfromgroups-1"><span class="tsd-kind-call-signature">unsubscribeUsersFromGroups</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">filter</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Filter</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">groups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#unsubscribeusersfromgroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Unsubscribe users matching filter from specific groups
Recalculates their permissions from remaining groups</p>
<p>Runs inside a transaction for atomicity.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">filter</span>: <span class="tsd-signature-type">Filter</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>MongoDB filter to select users</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">groups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Group positions to remove from users</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-23">Example<a href="#example-23" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Remove admin group from specific user</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">unsubscribeUsersFromGroups</span><span class="hl-1">(</span><br/><span class="hl-1">  { </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;user@example.com&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  [</span><span class="hl-4">1</span><span class="hl-1">] </span><span class="hl-9">// Admin group</span><br/><span class="hl-1">);</span><br/><span class="hl-9">// User&#39;s permissions are recalculated from remaining groups</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L914">src/gibbons-mongo-db.ts:914</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="updategroupmetadata"><span>update<wbr/>Group<wbr/>Metadata</span><a href="#updategroupmetadata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="updategroupmetadata-1"><span class="tsd-kind-call-signature">updateGroupMetadata</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#updategroupmetadatat">T</a> <span class="tsd-signature-keyword">extends</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">groupPosition</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#updategroupmetadatat">T</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../interfaces/IGibbonGroup.html" class="tsd-signature-type tsd-kind-interface">IGibbonGroup</a><span class="tsd-signature-symbol">&gt;</span><a href="#updategroupmetadata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Update metadata on an allocated group (e.g. name, description)
Does not modify gibbonGroupPosition, gibbonIsAllocated or permissionsGibbon</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="updategroupmetadatat"><span class="tsd-kind-type-parameter">T</span> <span class="tsd-signature-keyword">extends</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">groupPosition</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>The position of the group to update</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">data</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="#updategroupmetadatat">T</a></span><div class="tsd-comment tsd-typography"><p>Metadata fields to update</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../interfaces/IGibbonGroup.html" class="tsd-signature-type tsd-kind-interface">IGibbonGroup</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The updated group document, or null if not found</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-24">Example<a href="#example-24" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">updated</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">updateGroupMetadata</span><span class="hl-1">(</span><span class="hl-4">1</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Super Admins&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Users with full system access&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">color:</span><span class="hl-1"> </span><span class="hl-2">&#39;#FF0000&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L834">src/gibbons-mongo-db.ts:834</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="updatepermissionmetadata"><span>update<wbr/>Permission<wbr/>Metadata</span><a href="#updatepermissionmetadata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="updatepermissionmetadata-1"><span class="tsd-kind-call-signature">updatePermissionMetadata</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#updatepermissionmetadatat">T</a> <span class="tsd-signature-keyword">extends</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">permissionPosition</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#updatepermissionmetadatat">T</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../interfaces/IGibbonPermission.html" class="tsd-signature-type tsd-kind-interface">IGibbonPermission</a><span class="tsd-signature-symbol">&gt;</span><a href="#updatepermissionmetadata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Update metadata on an allocated permission (e.g. name, description)
Does not modify gibbonPermissionPosition or gibbonIsAllocated</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="updatepermissionmetadatat"><span class="tsd-kind-type-parameter">T</span> <span class="tsd-signature-keyword">extends</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">permissionPosition</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>The position of the permission to update</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">data</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="#updatepermissionmetadatat">T</a></span><div class="tsd-comment tsd-typography"><p>Metadata fields to update</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../interfaces/IGibbonPermission.html" class="tsd-signature-type tsd-kind-interface">IGibbonPermission</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The updated permission document, or null if not found</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-25">Example<a href="#example-25" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">updated</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">updatePermissionMetadata</span><span class="hl-1">(</span><span class="hl-4">5</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;posts.edit&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;Edit any blog post&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">module:</span><span class="hl-1"> </span><span class="hl-2">&#39;blog&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L859">src/gibbons-mongo-db.ts:859</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="updateusermetadata"><span>update<wbr/>User<wbr/>Metadata</span><a href="#updateusermetadata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="updateusermetadata-1"><span class="tsd-kind-call-signature">updateUserMetadata</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#updateusermetadatat">T</a> <span class="tsd-signature-keyword">extends</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">filter</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Filter</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#updateusermetadatat">T</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">session</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientSession</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span><a href="#updateusermetadata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Update metadata on a user (e.g. name, email)
Does not modify groupsGibbon or permissionsGibbon</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="updateusermetadatat"><span class="tsd-kind-type-parameter">T</span> <span class="tsd-signature-keyword">extends</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">filter</span>: <span class="tsd-signature-type">Filter</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>MongoDB filter to select the user</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">data</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="#updateusermetadatat">T</a></span><div class="tsd-comment tsd-typography"><p>Metadata fields to update</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">session</span>: <span class="tsd-signature-type">ClientSession</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <a href="../interfaces/IGibbonUser.html" class="tsd-signature-type tsd-kind-interface">IGibbonUser</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The updated user document, or null if not found</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-26">Example<a href="#example-26" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">updated</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">updateUserMetadata</span><span class="hl-1">(</span><br/><span class="hl-1">  { </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;old@example.com&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-7">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;new@example.com&#39;</span><span class="hl-1">, </span><span class="hl-7">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Jane Doe&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L887">src/gibbons-mongo-db.ts:887</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="validateallocatedgroups"><span>validate<wbr/>Allocated<wbr/>Groups</span><a href="#validateallocatedgroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="validateallocatedgroups-1"><span class="tsd-kind-call-signature">validateAllocatedGroups</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">groups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">allocated</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="#validateallocatedgroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Queries database if given groups are indeed allocated (possible to validate the non-allocated ones)</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">groups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Group positions to validate</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">allocated</span>: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = true</span></span><div class="tsd-comment tsd-typography"><p>Search for allocated or non-allocated (defaults to true)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p>true if all groups match the allocation state</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-27">Example<a href="#example-27" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-9">// Check if groups 1 and 2 are allocated</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">isAllocated</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">validateAllocatedGroups</span><span class="hl-1">([</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-4">2</span><span class="hl-1">]);</span><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">isAllocated</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Groups are ready to use&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L563">src/gibbons-mongo-db.ts:563</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="validateallocatedpermissions"><span>validate<wbr/>Allocated<wbr/>Permissions</span><a href="#validateallocatedpermissions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="validateallocatedpermissions-1"><span class="tsd-kind-call-signature">validateAllocatedPermissions</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">permissions</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">allocated</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><a href="#validateallocatedpermissions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Queries database if given permissions are indeed allocated (possible to validate the non-allocated ones)</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">permissions</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Permission positions to validate</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">allocated</span>: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = true</span></span><div class="tsd-comment tsd-typography"><p>Search for allocated or non-allocated (defaults to true)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p>true if all permissions match the allocation state</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-28">Example<a href="#example-28" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">valid</span><span class="hl-1"> = </span><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">validateAllocatedPermissions</span><span class="hl-1">([</span><span class="hl-4">5</span><span class="hl-1">, </span><span class="hl-4">6</span><span class="hl-1">, </span><span class="hl-4">7</span><span class="hl-1">]);</span><br/><span class="hl-6">if</span><span class="hl-1"> (!</span><span class="hl-7">valid</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">throw</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">Error</span><span class="hl-1">(</span><span class="hl-2">&#39;Some permissions are not allocated&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L585">src/gibbons-mongo-db.ts:585</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="validateusergroupsforallgroups"><span>validate<wbr/>User<wbr/>Groups<wbr/>For<wbr/>All<wbr/>Groups</span><a href="#validateusergroupsforallgroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="validateusergroupsforallgroups-1"><span class="tsd-kind-call-signature">validateUserGroupsForAllGroups</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">userGroups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">groups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#validateusergroupsforallgroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Given a set of user groups, validate if they have ALL given groups set</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">userGroups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>User groups</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">groups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Groups to compare with</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-29">Example<a href="#example-29" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">userGroups</span><span class="hl-1"> = [</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-4">3</span><span class="hl-1">, </span><span class="hl-4">4</span><span class="hl-1">];</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">requiredGroups</span><span class="hl-1"> = [</span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-4">4</span><span class="hl-1">];</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">hasAll</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">validateUserGroupsForAllGroups</span><span class="hl-1">(</span><span class="hl-7">userGroups</span><span class="hl-1">, </span><span class="hl-7">requiredGroups</span><span class="hl-1">);</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">hasAll</span><span class="hl-1">); </span><span class="hl-9">// true (user has all required groups)</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L459">src/gibbons-mongo-db.ts:459</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="validateusergroupsforanygroups"><span>validate<wbr/>User<wbr/>Groups<wbr/>For<wbr/>Any<wbr/>Groups</span><a href="#validateusergroupsforanygroups" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="validateusergroupsforanygroups-1"><span class="tsd-kind-call-signature">validateUserGroupsForAnyGroups</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">userGroups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">groups</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#validateusergroupsforanygroups-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Given a set of user groups, validate if they have ANY of given groups set</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">userGroups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>User groups</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">groups</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Groups to compare with</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-30">Example<a href="#example-30" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">userGroups</span><span class="hl-1"> = [</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-4">2</span><span class="hl-1">];</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">checkGroups</span><span class="hl-1"> = [</span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-4">4</span><span class="hl-1">, </span><span class="hl-4">6</span><span class="hl-1">];</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">hasAny</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">validateUserGroupsForAnyGroups</span><span class="hl-1">(</span><span class="hl-7">userGroups</span><span class="hl-1">, </span><span class="hl-7">checkGroups</span><span class="hl-1">);</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">hasAny</span><span class="hl-1">); </span><span class="hl-9">// true (user has group 2)</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L482">src/gibbons-mongo-db.ts:482</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="validateuserpermissionsforallpermissions"><span>validate<wbr/>User<wbr/>Permissions<wbr/>For<wbr/>All<wbr/>Permissions</span><a href="#validateuserpermissionsforallpermissions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="validateuserpermissionsforallpermissions-1"><span class="tsd-kind-call-signature">validateUserPermissionsForAllPermissions</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">userPermissions</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">permissions</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#validateuserpermissionsforallpermissions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Given a set of user permissions, validate if this has ALL of given permissions set</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">userPermissions</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>User permissions</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">permissions</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>Permissions to compare with</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>true if user has all the specified permissions</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-31">Example<a href="#example-31" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">userPerms</span><span class="hl-1"> = [</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-4">3</span><span class="hl-1">, </span><span class="hl-4">5</span><span class="hl-1">, </span><span class="hl-4">8</span><span class="hl-1">];</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">requiredPerms</span><span class="hl-1"> = [</span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-4">5</span><span class="hl-1">];</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">hasAll</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">validateUserPermissionsForAllPermissions</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-7">userPerms</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">requiredPerms</span><br/><span class="hl-1">);</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">hasAll</span><span class="hl-1">); </span><span class="hl-9">// true (user has both 2 and 5)</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L509">src/gibbons-mongo-db.ts:509</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="validateuserpermissionsforanypermissions"><span>validate<wbr/>User<wbr/>Permissions<wbr/>For<wbr/>Any<wbr/>Permissions</span><a href="#validateuserpermissionsforanypermissions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="validateuserpermissionsforanypermissions-1"><span class="tsd-kind-call-signature">validateUserPermissionsForAnyPermissions</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">userPermissions</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">permissions</span><span class="tsd-signature-symbol">:</span> <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><a href="#validateuserpermissionsforanypermissions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Given a set of permissions, validate if it has ANY of these given permissions set</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">userPermissions</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>User permissions</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">permissions</span>: <a href="../types/GibbonLike.html" class="tsd-signature-type tsd-kind-type-alias">GibbonLike</a></span><div class="tsd-comment tsd-typography"><p>To compare with</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>true if user has at least one of the specified permissions</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-32">Example<a href="#example-32" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">userPerms</span><span class="hl-1"> = [</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-4">3</span><span class="hl-1">];</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">checkPerms</span><span class="hl-1"> = [</span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-4">3</span><span class="hl-1">, </span><span class="hl-4">4</span><span class="hl-1">];</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-8">hasAny</span><span class="hl-1"> = </span><span class="hl-7">gibbonsDb</span><span class="hl-1">.</span><span class="hl-0">validateUserPermissionsForAnyPermissions</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-7">userPerms</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">checkPerms</span><br/><span class="hl-1">);</span><br/><span class="hl-7">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-7">hasAny</span><span class="hl-1">); </span><span class="hl-9">// true (user has permission 3)</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/icazemier/gibbons-mongodb/blob/83c2abccd324cb9ef7e274ec78153a4d3e490016/src/gibbons-mongo-db.ts#L537">src/gibbons-mongo-db.ts:537</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#config" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>config</span></a><a href="#gibbongroup" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>gibbon<wbr/>Group</span></a><a href="#gibbonpermission" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>gibbon<wbr/>Permission</span></a><a href="#gibbonuser" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>gibbon<wbr/>User</span></a><a href="#mongoclient" class="tsd-is-protected"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>mongo<wbr/>Client</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#allocategroup"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>allocate<wbr/>Group</span></a><a href="#allocatepermission"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>allocate<wbr/>Permission</span></a><a href="#createuser"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>create<wbr/>User</span></a><a href="#deallocategroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>deallocate<wbr/>Groups</span></a><a href="#deallocatepermissions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>deallocate<wbr/>Permissions</span></a><a href="#expandgroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>expand<wbr/>Groups</span></a><a href="#expandpermissions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>expand<wbr/>Permissions</span></a><a href="#findallallocatedgroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>All<wbr/>Allocated<wbr/>Groups</span></a><a href="#findallallocatedpermissions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>All<wbr/>Allocated<wbr/>Permissions</span></a><a href="#findgroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Groups</span></a><a href="#findgroupsbypermissions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Groups<wbr/>By<wbr/>Permissions</span></a><a href="#findpermissions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Permissions</span></a><a href="#findusers"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Users</span></a><a href="#findusersbygroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Users<wbr/>By<wbr/>Groups</span></a><a href="#findusersbypermissions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>find<wbr/>Users<wbr/>By<wbr/>Permissions</span></a><a href="#getmongoclient"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Mongo<wbr/>Client</span></a><a href="#getpermissionsgibbonforgroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Permissions<wbr/>Gibbon<wbr/>For<wbr/>Groups</span></a><a href="#initialize"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>initialize</span></a><a href="#removeuser"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>remove<wbr/>User</span></a><a href="#shrinkgroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>shrink<wbr/>Groups</span></a><a href="#shrinkpermissions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>shrink<wbr/>Permissions</span></a><a href="#subscribepermissionstogroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>subscribe<wbr/>Permissions<wbr/>To<wbr/>Groups</span></a><a href="#subscribeuserstogroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>subscribe<wbr/>Users<wbr/>To<wbr/>Groups</span></a><a href="#unsubscribepermissionsfromgroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>unsubscribe<wbr/>Permissions<wbr/>From<wbr/>Groups</span></a><a href="#unsubscribeusersfromgroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>unsubscribe<wbr/>Users<wbr/>From<wbr/>Groups</span></a><a href="#updategroupmetadata"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Group<wbr/>Metadata</span></a><a href="#updatepermissionmetadata"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>Permission<wbr/>Metadata</span></a><a href="#updateusermetadata"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>update<wbr/>User<wbr/>Metadata</span></a><a href="#validateallocatedgroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>Allocated<wbr/>Groups</span></a><a href="#validateallocatedpermissions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>Allocated<wbr/>Permissions</span></a><a href="#validateusergroupsforallgroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>User<wbr/>Groups<wbr/>For<wbr/>All<wbr/>Groups</span></a><a href="#validateusergroupsforanygroups"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>User<wbr/>Groups<wbr/>For<wbr/>Any<wbr/>Groups</span></a><a href="#validateuserpermissionsforallpermissions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>User<wbr/>Permissions<wbr/>For<wbr/>All<wbr/>Permissions</span></a><a href="#validateuserpermissionsforanypermissions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>validate<wbr/>User<wbr/>Permissions<wbr/>For<wbr/>Any<wbr/>Permissions</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">@icazemier/gibbons-mongodb</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
